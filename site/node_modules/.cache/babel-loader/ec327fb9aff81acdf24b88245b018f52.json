{"remainingRequest":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/node_modules/babel-loader/lib/index.js!/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/src/store/index.js","dependencies":[{"path":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/src/store/index.js","mtime":1625467785931},{"path":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwpWdWUudXNlKFZ1ZXgpOwp2YXIgc3RhdGUgPSB7CiAgdXNlcjogbnVsbCwKICBldmVudHM6IFtdLAogIHJlc3VtZUV2ZW50czogW10sCiAgYmFza2V0OiBbXQp9Owp2YXIgbXV0YXRpb25zID0gewogIExPQURfRVZFTlRTOiBmdW5jdGlvbiBMT0FEX0VWRU5UUyhzdGF0ZSwgaW5mb3MpIHsKICAgIHN0YXRlLmV2ZW50cyA9IGluZm9zOwogICAgdmFyIHRlc3QgPSBbXTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykgewogICAgICB0ZXN0LnB1c2goaW5mb3NbaV0pOwogICAgfQoKICAgIHN0YXRlLnJlc3VtZUV2ZW50cyA9IHRlc3Q7CiAgfSwKICBDT05ORUNURUQ6IGZ1bmN0aW9uIENPTk5FQ1RFRChzdGF0ZSwgaW5mb3MpIHsKICAgIHN0YXRlLnVzZXIgPSBpbmZvczsKICAgIHJvdXRlci5wdXNoKHsKICAgICAgbmFtZTogIlNob3AiCiAgICB9KTsKICB9LAogIEFERF9CQVNLRVQ6IGZ1bmN0aW9uIEFERF9CQVNLRVQoc3RhdGUsIGluZm9zKSB7CiAgICBzdGF0ZS5iYXNrZXQucHVzaChpbmZvcyk7CiAgICByb3V0ZXIucHVzaCh7CiAgICAgIG5hbWU6ICJCYXNrZXQiCiAgICB9KTsKICB9LAogIFBBSUQ6IGZ1bmN0aW9uIFBBSUQoc3RhdGUpIHsKICAgIHN0YXRlLmJhc2tldCA9IFtdOwogICAgcm91dGVyLnB1c2goewogICAgICBuYW1lOiAiVXNlciIKICAgIH0pOwogIH0KfTsKdmFyIGdldHRlcnMgPSB7CiAgZXZlbnRzOiBmdW5jdGlvbiBldmVudHMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5ldmVudHM7CiAgfSwKICByZXN1bWVFdmVudHM6IGZ1bmN0aW9uIHJlc3VtZUV2ZW50cyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnJlc3VtZUV2ZW50czsKICB9LAogIHVzZXI6IGZ1bmN0aW9uIHVzZXIoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS51c2VyOwogIH0sCiAgYmFza2V0OiBmdW5jdGlvbiBiYXNrZXQoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5iYXNrZXQ7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBsb2FkX2V2ZW50czogZnVuY3Rpb24gbG9hZF9ldmVudHMoc3RvcmUpIHsKICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDoxMzM3L2V2ZW50cz9fc29ydD1kYXRlOkFTQyIpLnRoZW4oZnVuY3Rpb24gKHJlcG9uc2UpIHsKICAgICAgc3RvcmUuY29tbWl0KCdMT0FEX0VWRU5UUycsIHJlcG9uc2UuZGF0YSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICB9KTsKICB9LAogIGNvbm5lY3Q6IGZ1bmN0aW9uIGNvbm5lY3Qoc3RvcmUsIGluZm9zKSB7CiAgICBjb25zb2xlLmxvZyhpbmZvcyk7CiAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjEzMzcvYXV0aC9sb2NhbCcsIHsKICAgICAgaWRlbnRpZmllcjogaW5mb3MubWFpbCwKICAgICAgcGFzc3dvcmQ6IGluZm9zLnBhc3N3b3JkCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAvLyBIYW5kbGUgc3VjY2Vzcy4KICAgICAgY29uc29sZS5sb2coJ1dlbGwgZG9uZSEnKTsKICAgICAgY29uc29sZS5sb2coJ1VzZXIgcHJvZmlsZScsIHJlc3BvbnNlLmRhdGEpOwogICAgICBjb25zb2xlLmxvZygnVXNlciB0b2tlbicsIHJlc3BvbnNlLmRhdGEuand0KTsKICAgICAgc3RvcmUuY29tbWl0KCdDT05ORUNURUQnLCByZXNwb25zZS5kYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAvLyBIYW5kbGUgZXJyb3IuCiAgICAgIGNvbnNvbGUubG9nKCdBbiBlcnJvciBvY2N1cnJlZDonLCBlcnJvci5yZXNwb25zZSk7CiAgICB9KTsKICB9LAogIGFkZEJhc2tldDogZnVuY3Rpb24gYWRkQmFza2V0KHN0b3JlLCBpbmZvcykgewogICAgc3RvcmUuY29tbWl0KCdBRERfQkFTS0VUJywgaW5mb3MpOwogIH0sCiAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKHN0b3JlLCBpbmZvcykgewogICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDoxMzM3L2F1dGgvbG9jYWwvcmVnaXN0ZXInLCB7CiAgICAgIHVzZXJuYW1lOiBpbmZvcy51c2VybmFtZSwKICAgICAgZW1haWw6IGluZm9zLmVtYWlsLAogICAgICBwYXNzd29yZDogaW5mb3MucGFzc3dvcmQKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIC8vIEhhbmRsZSBzdWNjZXNzLgogICAgICBjb25zb2xlLmxvZygnV2VsbCBkb25lIScpOwogICAgICBjb25zb2xlLmxvZygnVXNlciBwcm9maWxlJywgcmVzcG9uc2UuZGF0YS51c2VyKTsKICAgICAgY29uc29sZS5sb2coJ1VzZXIgdG9rZW4nLCByZXNwb25zZS5kYXRhLmp3dCk7CiAgICAgIHN0b3JlLmNvbW1pdCgnQ09OTkVDVEVEJywgcmVzcG9uc2UuZGF0YSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgLy8gSGFuZGxlIGVycm9yLgogICAgICBjb25zb2xlLmxvZygnQW4gZXJyb3Igb2NjdXJyZWQ6JywgZXJyb3IucmVzcG9uc2UpOwogICAgfSk7CiAgfSwKICBwYWlkOiBmdW5jdGlvbiBwYWlkKHN0b3JlLCBpbmZvcykgewogICAgaW5mb3MuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjEzMzcvb3JkZXJzJywgewogICAgICAgIG51bWJlcjogZWxlbWVudC5udW1iZXIsCiAgICAgICAgZXZlbnQ6IGVsZW1lbnQuZXZlbnRJRCwKICAgICAgICB1c2VyOiBlbGVtZW50LnVzZXJJRAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vIEhhbmRsZSBzdWNjZXNzLgogICAgICAgIHN0b3JlLmNvbW1pdCgnUEFJRCcpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAvLyBIYW5kbGUgZXJyb3IuCiAgICAgICAgY29uc29sZS5sb2coJ0FuIGVycm9yIG9jY3VycmVkOicsIGVycm9yLnJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9KTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zCn0pOw=="},{"version":3,"sources":["/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/src/store/index.js"],"names":["Vue","Vuex","axios","router","use","state","user","events","resumeEvents","basket","mutations","LOAD_EVENTS","infos","test","i","push","CONNECTED","name","ADD_BASKET","PAID","getters","actions","load_events","store","get","then","reponse","commit","data","catch","err","console","log","connect","post","identifier","mail","password","response","jwt","error","addBasket","register","username","email","paid","forEach","element","number","event","eventID","userID","Store"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from \"axios\"\nimport router from '@/router';\n\nVue.use(Vuex)\nconst state = {\n  user: null,\n  events: [],\n  resumeEvents: [],\n  basket: []\n}\nconst mutations = {\n  LOAD_EVENTS: (state, infos) => {\n    state.events = infos\n    let test = []\n    for (let i = 0; i < 4; i++) {\n      test.push(infos[i])\n    }\n    state.resumeEvents = test\n  },\n  CONNECTED: (state, infos) => {\n    state.user = infos\n    router.push({ name: \"Shop\"})\n  },\n  ADD_BASKET: (state, infos) => {\n    state.basket.push(infos)\n    router.push({ name: \"Basket\"})\n  },\n  PAID: (state) => {\n    state.basket = []\n    router.push({ name: \"User\"})\n  },\n}\nconst getters = {\n  events: (state) => state.events,\n  resumeEvents: (state) => state.resumeEvents,\n  user: (state) => state.user,\n  basket: (state) => state.basket\n}\nconst actions = {\n  load_events: (store) => {\n    axios.get(\"http://localhost:1337/events?_sort=date:ASC\")\n    .then(reponse => {\n      store.commit('LOAD_EVENTS', reponse.data)\n    })\n    .catch(err =>{\n      console.log(err)\n    })\n  },\n  connect: (store, infos) => {\n    console.log(infos)\n    axios.post('http://localhost:1337/auth/local', {\n      identifier: infos.mail,\n      password: infos.password,\n    })\n    .then(response => {\n      // Handle success.\n      console.log('Well done!');\n      console.log('User profile', response.data);\n      console.log('User token', response.data.jwt);\n      store.commit('CONNECTED', response.data)\n    })\n    .catch(error => {\n      // Handle error.\n      console.log('An error occurred:', error.response);\n    });\n  },\n  addBasket: (store, infos) => {\n    store.commit('ADD_BASKET', infos)\n  },\n  register: (store, infos) => {\n    axios.post('http://localhost:1337/auth/local/register', {\n      username: infos.username,\n      email: infos.email,\n      password: infos.password,\n    })\n    .then(response => {\n      // Handle success.\n      console.log('Well done!');\n      console.log('User profile', response.data.user);\n      console.log('User token', response.data.jwt);\n      store.commit('CONNECTED', response.data)\n    })\n    .catch(error => {\n      // Handle error.\n      console.log('An error occurred:', error.response);\n    });\n  },\n  paid: (store, infos) => {\n    infos.forEach(element => {\n      axios.post('http://localhost:1337/orders', {\n      number: element.number,\n      event: element.eventID,\n      user: element.userID\n      })\n      .then(response => {\n        // Handle success.\n        store.commit('PAID')\n      })\n      .catch(error => {\n        // Handle error.\n        console.log('An error occurred:', error.response);\n      });\n    });\n  },\n}\n\nexport default new Vuex.Store({\n  state: state,\n  mutations: mutations,\n  getters: getters,\n  actions: actions\n})\n"]}]}