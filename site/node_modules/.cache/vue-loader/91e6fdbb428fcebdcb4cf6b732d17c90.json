{"remainingRequest":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/src/views/User.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/src/views/User.vue","mtime":1625467785935},{"path":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZS8nCmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnCmdsb2JhbC52ID0gVnVleAoKZXhwb3J0IGRlZmF1bHQgewogIHN0b3JlOiBzdG9yZSwKICBkYXRhKCl7CiAgICByZXR1cm4gewogICAgICBvcmRlcnM6IFtdCiAgICB9CiAgfSwKICBtb3VudGVkKCl7CiAgICAoIXRoaXMudXNlcik/IHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIkNvbm5lY3QifSk6bnVsbDsKICAgIHRoaXMubG9hZF9ldmVudHMoKQogICAgdGhpcy51c2VyLnVzZXIub3JkZXJzLmZvckVhY2gob3JkZXIgPT4gewogICAgICB0aGlzLmV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IHsKICAgICAgICBpZihldmVudC5pZCA9PSBvcmRlci5ldmVudCl7CiAgICAgICAgICB0aGlzLm9yZGVycy5wdXNoKHsKICAgICAgICAgICAgbnVtYmVyOiBvcmRlci5udW1iZXIsCiAgICAgICAgICAgIGV2ZW50OiBldmVudCwKICAgICAgICAgICAgaWQ6IG9yZGVyLmlkCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0pOwogICAgY29uc29sZS5sb2codGhpcy5vcmRlcnMpCiAgfSwKICBjb21wdXRlZDp7CiAgICAuLi5WdWV4Lm1hcEdldHRlcnMoWyd1c2VyJywgJ2V2ZW50cyddKQogIH0sCiAgbWV0aG9kczp7CiAgICAuLi5WdWV4Lm1hcEFjdGlvbnMoWwogICAgICAnbG9hZF9ldmVudHMnCiAgICBdKQogIH0KfQo="},{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"User.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"user\">\n    <h2>Mes commandes</h2>\n    <div v-for=\"order in orders\" :key=\"order.id\" class=\"order\">\n      <img :src=\"'http://localhost:1337' + order.event.poster.url\" alt=\"\">\n      <div class=\"orderContent\">\n        <h2>Billet: {{order.event.name}} Commande nÂ° {{order.id}}</h2>\n        <p>{{order.event.place}}<span>{{order.event.date}}</span></p>\n        <div class=\"number\">X {{order.number}}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport store from '@/store/'\nimport Vuex from 'vuex'\nglobal.v = Vuex\n\nexport default {\n  store: store,\n  data(){\n    return {\n      orders: []\n    }\n  },\n  mounted(){\n    (!this.user)? this.$router.push({ name: \"Connect\"}):null;\n    this.load_events()\n    this.user.user.orders.forEach(order => {\n      this.events.forEach(event => {\n        if(event.id == order.event){\n          this.orders.push({\n            number: order.number,\n            event: event,\n            id: order.id\n          })\n        }\n      })\n    });\n    console.log(this.orders)\n  },\n  computed:{\n    ...Vuex.mapGetters(['user', 'events'])\n  },\n  methods:{\n    ...Vuex.mapActions([\n      'load_events'\n    ])\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.user {\n  text-align: center;\n  .order{\n    display: flex;\n    justify-content: space-between;\n    width: 80%;\n    margin: auto;\n    img{\n      width: 100px;\n      margin: 20px 50px;\n    }\n    .orderContent{\n      flex-grow:1;\n      position: relative;\n      h2, p {\n        text-align: left;\n        align-self: flex-end;\n      }\n      .number {\n        position: absolute;\n        top: 1.8em;\n        right: 0;\n      }\n      p {\n        position: absolute;\n        bottom: 30px;\n        width: 100%;\n        span {\n        float: right;\n      }\n      }\n    }\n  }\n}\n</style>\n"]}]}