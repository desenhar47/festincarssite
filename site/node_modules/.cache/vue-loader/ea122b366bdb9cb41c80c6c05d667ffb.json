{"remainingRequest":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/src/views/Gallery.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/src/views/Gallery.vue","mtime":1625443548851},{"path":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mariegourgues/Documents/chef de projets/dossier groupe/festincarv2/site/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlLycKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCcKZ2xvYmFsLnYgPSBWdWV4CmltcG9ydCBCYW5uZXIgZnJvbSAnQC9jb21wb25lbnRzL0Jhbm5lci52dWUnCgpleHBvcnQgZGVmYXVsdCB7CiAgc3RvcmU6IHN0b3JlLAogIGNvbXBvbmVudHM6IHsKICAgIEJhbm5lcgogIH0sCiAgZGF0YSgpewogICAgcmV0dXJuIHsKICAgICAgbW9kYWw6IHsKICAgICAgICBmb2N1czogbnVsbCwKICAgICAgICBpbWFnZXM6IFtdCiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQoKXsKICAgIHRoaXMubG9hZF9ldmVudHMoKQogIH0sCiAgY29tcHV0ZWQ6ewogICAgLi4uVnVleC5tYXBHZXR0ZXJzKFsnZXZlbnRzJ10pCiAgfSwKICBtZXRob2RzOnsKICAgIC4uLlZ1ZXgubWFwQWN0aW9ucyhbCiAgICAgICdsb2FkX2V2ZW50cycKICAgIF0pLAogICAgdGVzdChldmVudElELGltYWdlSUQpewogICAgICB0aGlzLmV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IHsKICAgICAgICBpZihldmVudC5pZCA9PSBldmVudElEKXsKICAgICAgICAgIHRoaXMubW9kYWwuaW1hZ2VzID0gZXZlbnQuaW1hZ2VzCiAgICAgICAgICBldmVudC5pbWFnZXMuZm9yRWFjaChpbWFnZSA9PnsKICAgICAgICAgICAgaWYoaW1hZ2VJRCA9PSBpbWFnZS5pZCl7CiAgICAgICAgICAgICAgdGhpcy5tb2RhbC5mb2N1cyA9IGltYWdlLnVybAogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubW9kYWwpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Gallery.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Gallery.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <Banner :name=\"'Galerie'\"/>\n    <div v-if=\"events\" class=\"gallery\">\n      <article v-for=\"event in events\" :key=\"event.date\">\n        <div class=\"title\">\n          <h2>{{event.name}}</h2>\n        </div>\n        <div v-for=\"image in event.images\" :key=\"image.id\">\n          <img :src=\"'http://localhost:1337'+ image.url\" @click=\"test(event.id,image.id)\">\n        </div>\n      </article>\n      <div class=\"modal\" v-if=\"modal.focus\">\n        <i class=\"fas fa-times close\" @click=\"modal.focus = null\"></i>\n        <div class=\"focus\">\n          <img :src=\"'http://localhost:1337' + modal.focus\" alt=\"\">\n        </div>\n        <div class=\"miniature\">\n          <img v-for=\"image in modal.images\" :key=\"image.id\" :src=\"'http://localhost:1337'+ image.url\" @click=\"modal.focus = image.url\">\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport store from '@/store/'\nimport Vuex from 'vuex'\nglobal.v = Vuex\nimport Banner from '@/components/Banner.vue'\n\nexport default {\n  store: store,\n  components: {\n    Banner\n  },\n  data(){\n    return {\n      modal: {\n        focus: null,\n        images: []\n      }\n    }\n  },\n  mounted(){\n    this.load_events()\n  },\n  computed:{\n    ...Vuex.mapGetters(['events'])\n  },\n  methods:{\n    ...Vuex.mapActions([\n      'load_events'\n    ]),\n    test(eventID,imageID){\n      this.events.forEach(event => {\n        if(event.id == eventID){\n          this.modal.images = event.images\n          event.images.forEach(image =>{\n            if(imageID == image.id){\n              this.modal.focus = image.url\n              console.log(this.modal)\n            }\n          })\n        }\n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.gallery {\n  article {\n    display: flex;\n    width: 100%;\n    overflow: auto;\n    .title {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n    img,.title{\n      min-width: 200px;\n      height: 200px;\n    }\n  }\n  .modal{\n    position: fixed;\n    top: 0;\n    background-color: rgba(0, 48, 21, 0.85);\n    width: 100%;\n    height: 100%;\n    .focus{\n      text-align: center;\n      img {\n        max-height: 90vh;\n        max-width: 100%;\n      }\n    }\n    .miniature {\n      height: 10vh;\n      position: absolute;\n      width: 100%;\n      bottom: 0;\n      display: flex;\n      overflow: auto;\n      img {\n        width: 10vh;\n        height: 10vh;\n      }\n    }\n    i.close{\n      color: white;\n      position: absolute;\n      top: 1em;\n      right: 1em;\n      font-size: 25px;\n      z-index: 100;\n      &:hover{\n        cursor: pointer;\n      }\n    }\n  }\n}\n</style>"]}]}